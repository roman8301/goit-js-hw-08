{"version":3,"sources":["js/03-feedback.js"],"names":["form","document","querySelector","state","email","message","KEY_LS","setFormFields","stateFromLocal","JSON","parse","localStorage","getItem","elements","forEach","el","name","value","handleSubmit","e","preventDefault","currentTarget","reset","removeItem","console","log","addEventListener","target","setItem","stringify","window"],"mappings":";AAAA,MAAMA,EAAOC,SAASC,cAAc,kBAC9BC,EAAQ,CAAEC,MAAO,GAAIC,QAAS,IAC9BC,EAAS,sBAOf,SAASC,IACDC,MAAAA,EAAiBC,KAAKC,MAAMC,aAAaC,QAAQN,IACnDE,GACD,IAAGR,EAAKa,UAAUC,QAAQC,IACrBA,EAAGC,OACLb,EAAMY,EAAGC,MAAQR,EAAeO,EAAGC,MACnCD,EAAGE,MAAQT,EAAeO,EAAGC,SAQrC,SAASE,EAAaC,GACpBA,EAAEC,iBACFD,EAAEE,cAAcC,QAChBX,aAAaY,WAAWjB,GACxBkB,QAAQC,IAAItB,GAvBdH,EAAK0B,iBAAiB,QAASP,IAC7BhB,EAAMgB,EAAEQ,OAAOX,MAAQG,EAAEQ,OAAOV,MAChCN,aAAaiB,QAAQtB,EAAQG,KAAKoB,UAAU1B,MAe9CH,EAAK0B,iBAAiB,SAAUR,GAQhCY,OAAOJ,iBAAiB,mBAAoBnB","file":"03-feedback.a045b10a.js","sourceRoot":"../src","sourcesContent":["const form = document.querySelector('.feedback-form');\nconst state = { email: '', message: '' };\nconst KEY_LS = 'feedback-form-state';\n\nform.addEventListener('input', e => {\n  state[e.target.name] = e.target.value;\n  localStorage.setItem(KEY_LS, JSON.stringify(state));\n});\n\nfunction setFormFields() {\n  const stateFromLocal = JSON.parse(localStorage.getItem(KEY_LS));\n  if (stateFromLocal) {\n    [...form.elements].forEach(el => {\n      if (el.name) {\n        state[el.name] = stateFromLocal[el.name];\n        el.value = stateFromLocal[el.name];\n      }\n    });\n  }\n}\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  e.currentTarget.reset();\n  localStorage.removeItem(KEY_LS);\n  console.log(state);\n}\nwindow.addEventListener('DOMContentLoaded', setFormFields);\n"]}